# ğŸµ Vibe - ìŒì•… ì»¤ë®¤ë‹ˆí‹° ê²Œì‹œíŒ

> Spring MVC ê¸°ë°˜ ìŒì•… ìŠ¤íŠ¸ë¦¬ë° í”Œë«í¼

## ğŸ“Œ í”„ë¡œì íŠ¸ ì†Œê°œ

VibeëŠ” ìŒì•…ì„ ê³µìœ í•˜ê³  ì†Œí†µí•  ìˆ˜ ìˆëŠ” ì»¤ë®¤ë‹ˆí‹° í”Œë«í¼ì…ë‹ˆë‹¤.
ì‚¬ìš©ìë“¤ì€ ê²Œì‹œíŒì—ì„œ ìŒì•…ì— ëŒ€í•œ ì˜ê²¬ì„ ë‚˜ëˆ„ê³ , ì¢‹ì•„í•˜ëŠ” ìŒì•…ì„ ì¬ìƒí•˜ë©°, 
í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

- **ê°œë°œ ê¸°ê°„**: 2024.11.27 ~ 2024.12.11 (2ì£¼)
- **ê°œë°œ ì¸ì›**: 1ëª… (ê°œì¸ í”„ë¡œì íŠ¸)
- **ê³¼ëª©**: SPRING-2025

---

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ

### Backend
- **Framework**: Spring MVC 4.3.25
- **ORM**: MyBatis 3.5.6
- **Language**: Java 1.8
- **Build Tool**: Maven

### Frontend
- **Template Engine**: JSP, JSTL
- **Markup**: HTML5, CSS3
- **Script**: JavaScript

### Database
- **DBMS**: MariaDB 10.6

### Server
- **WAS**: Apache Tomcat 9.0

### API
- **Music API**: Spotify Web API

### Tools
- **IDE**: Spring Tool Suite 3
- **DB Tool**: HeidiSQL
- **Version Control**: Git

---

## âœ¨ ì£¼ìš” ê¸°ëŠ¥

### 1. ê²Œì‹œíŒ CRUD
- âœ… ê²Œì‹œê¸€ ë“±ë¡ (ë¡œê·¸ì¸ ì‚¬ìš©ì)
- âœ… ê²Œì‹œê¸€ ì¡°íšŒ (ëª©ë¡/ìƒì„¸)
- âœ… ê²Œì‹œê¸€ ìˆ˜ì • (ì‘ì„±ì ë³¸ì¸)
- âœ… ê²Œì‹œê¸€ ì‚­ì œ (ì‘ì„±ì ë³¸ì¸, CASCADE)
- âœ… ì¹´í…Œê³ ë¦¬ë³„ í•„í„°ë§

### 2. ê²€ìƒ‰ ê¸°ëŠ¥
- âœ… ì œëª©/ë‚´ìš© í†µí•© ê²€ìƒ‰
- âœ… í‚¤ì›Œë“œ ê¸°ë°˜ LIKE ê²€ìƒ‰
- âœ… MyBatis ë™ì  ì¿¼ë¦¬ í™œìš©

### 3. í˜ì´ì§•
- âœ… í˜ì´ì§€ë‹¹ 5ê°œì”© í‘œì‹œ
- âœ… Criteria íŒ¨í„´ í™œìš©
- âœ… ì´ì „/ë‹¤ìŒ í˜ì´ì§€ ë„¤ë¹„ê²Œì´ì…˜

### 4. ëŒ“ê¸€ ì‹œìŠ¤í…œ
- âœ… ëŒ“ê¸€ ì‘ì„±/ì‚­ì œ
- âœ… ì‘ì„±ì ì •ë³´ JOIN ì¡°íšŒ
- âœ… ì‹¤ì‹œê°„ ë°˜ì˜

### 5. íšŒì› ê´€ë¦¬
- âœ… íšŒì›ê°€ì…/ë¡œê·¸ì¸
- âœ… ì„¸ì…˜ ê¸°ë°˜ ì¸ì¦
- âœ… ê¶Œí•œë³„ ê¸°ëŠ¥ ì œì–´

### 6. ìŒì› ìŠ¤íŠ¸ë¦¬ë°
- âœ… ìŒì› ì¬ìƒ (HTML5 Audio)
- âœ… í•˜ë‹¨ ê³ ì • í”Œë ˆì´ì–´
- âœ… ì¬ìƒ íšŸìˆ˜ ì¹´ìš´íŒ…

### 7. ì¢‹ì•„ìš” ê¸°ëŠ¥
- âœ… AJAX ë¹„ë™ê¸° ì²˜ë¦¬
- âœ… ì¢‹ì•„ìš” ì¶”ê°€/ì·¨ì†Œ
- âœ… ë§ˆì´í˜ì´ì§€ì—ì„œ ëª©ë¡ í™•ì¸

### 8. Spotify API ì—°ë™
- âœ… ìŒì› ê²€ìƒ‰ (ê´€ë¦¬ì)
- âœ… ì•¨ë²” ì»¤ë²„ ìë™ ê°€ì ¸ì˜¤ê¸°
- âœ… ë©”íƒ€ë°ì´í„° ìë™ ì…ë ¥

---

## ğŸ—‚ï¸ í”„ë¡œì íŠ¸ êµ¬ì¡°
```
project/
â”œâ”€ src/main/java/com/music/
â”‚  â”œâ”€ controller/           # ìš”ì²­ ì²˜ë¦¬
â”‚  â”‚  â”œâ”€ HomeController.java
â”‚  â”‚  â”œâ”€ PostController.java
â”‚  â”‚  â”œâ”€ UserController.java
â”‚  â”‚  â”œâ”€ SongController.java
â”‚  â”‚  â”œâ”€ LikeController.java
â”‚  â”‚  â””â”€ SpotifyController.java
â”‚  â”‚
â”‚  â”œâ”€ service/              # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚  â”‚  â”œâ”€ PostService.java
â”‚  â”‚  â”œâ”€ PostServiceImpl.java
â”‚  â”‚  â”œâ”€ UserService.java
â”‚  â”‚  â”œâ”€ UserServiceImpl.java
â”‚  â”‚  â”œâ”€ SongService.java
â”‚  â”‚  â”œâ”€ SongServiceImpl.java
â”‚  â”‚  â”œâ”€ LikeService.java
â”‚  â”‚  â”œâ”€ LikeServiceImpl.java
â”‚  â”‚  â”œâ”€ SpotifyService.java
â”‚  â”‚  â””â”€ SpotifyServiceImpl.java
â”‚  â”‚
â”‚  â”œâ”€ mapper/               # MyBatis ì¸í„°í˜ì´ìŠ¤
â”‚  â”‚  â”œâ”€ PostMapper.java
â”‚  â”‚  â”œâ”€ UserMapper.java
â”‚  â”‚  â”œâ”€ SongMapper.java
â”‚  â”‚  â”œâ”€ CommentMapper.java
â”‚  â”‚  â”œâ”€ LikeMapper.java
â”‚  â”‚  â””â”€ PlaylistMapper.java
â”‚  â”‚
â”‚  â””â”€ domain/               # VO í´ë˜ìŠ¤
â”‚     â”œâ”€ PostVO.java
â”‚     â”œâ”€ UserVO.java
â”‚     â”œâ”€ SongVO.java
â”‚     â”œâ”€ CommentVO.java
â”‚     â”œâ”€ PlaylistVO.java
â”‚     â”œâ”€ Criteria.java
â”‚     â””â”€ PageDTO.java
â”‚
â”œâ”€ src/main/resources/
â”‚  â””â”€ com/music/mapper/     # MyBatis XML
â”‚     â”œâ”€ PostMapper.xml
â”‚     â”œâ”€ UserMapper.xml
â”‚     â”œâ”€ SongMapper.xml
â”‚     â”œâ”€ CommentMapper.xml
â”‚     â”œâ”€ LikeMapper.xml
â”‚     â””â”€ PlaylistMapper.xml
â”‚
â””â”€ src/main/webapp/
   â”œâ”€ WEB-INF/
   â”‚  â”œâ”€ views/project/     # JSP ë·°
   â”‚  â”‚  â”œâ”€ board/          # ê²Œì‹œíŒ
   â”‚  â”‚  â”œâ”€ user/           # íšŒì›
   â”‚  â”‚  â””â”€ song/           # ìŒì›
   â”‚  â”œâ”€ spring/            # Spring ì„¤ì •
   â”‚  â”‚  â”œâ”€ root-context.xml
   â”‚  â”‚  â””â”€ appServlet/servlet-context.xml
   â”‚  â””â”€ web.xml
   â”‚
   â””â”€ resources/
      â”œâ”€ css/               # ìŠ¤íƒ€ì¼ì‹œíŠ¸
      â”œâ”€ js/                # ìë°”ìŠ¤í¬ë¦½íŠ¸
      â””â”€ music/             # ìŒì› íŒŒì¼ (gitignore)
```

---

## ğŸ—„ï¸ ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„

### ERD (7ê°œ í…Œì´ë¸”)

#### 1. users (íšŒì›)
- íšŒì› ì •ë³´ ì €ì¥
- ì´ë©”ì¼, ë¹„ë°€ë²ˆí˜¸, ì‚¬ìš©ìëª…

#### 2. posts (ê²Œì‹œê¸€)
- ê²Œì‹œíŒ ê²Œì‹œê¸€ ì •ë³´
- ì œëª©, ë‚´ìš©, ì¹´í…Œê³ ë¦¬, ì¡°íšŒìˆ˜

#### 3. comments (ëŒ“ê¸€)
- ê²Œì‹œê¸€ì— ë‹¬ë¦° ëŒ“ê¸€
- postsì™€ 1:N ê´€ê³„

#### 4. songs (ìŒì›)
- ìŒì› ì •ë³´ì™€ ë©”íƒ€ë°ì´í„°
- ì œëª©, ì•„í‹°ìŠ¤íŠ¸, ì•¨ë²”, ì¬ìƒì‹œê°„

#### 5. song_likes (ì¢‹ì•„ìš”)
- ì‚¬ìš©ìì˜ ìŒì› ì¢‹ì•„ìš” ì •ë³´
- usersì™€ songsë¥¼ ì—°ê²° (N:M)

#### 6. playlists (í”Œë ˆì´ë¦¬ìŠ¤íŠ¸)
- ì‚¬ìš©ì í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ ì •ë³´

#### 7. playlist_songs (í”Œë ˆì´ë¦¬ìŠ¤íŠ¸-ìŒì›)
- playlistsì™€ songsë¥¼ ì—°ê²° (N:M)

### ê´€ê³„ ì„¤ì •
- `users(1) â†’ posts(N)`: í•œ íšŒì›ì´ ì—¬ëŸ¬ ê²Œì‹œê¸€ ì‘ì„±
- `users(1) â†’ comments(N)`: í•œ íšŒì›ì´ ì—¬ëŸ¬ ëŒ“ê¸€ ì‘ì„±
- `posts(1) â†’ comments(N)`: í•œ ê²Œì‹œê¸€ì— ì—¬ëŸ¬ ëŒ“ê¸€
- `users â†” songs (N:M)`: song_likes ì¤‘ê°„ í…Œì´ë¸”
- `playlists â†” songs (N:M)`: playlist_songs ì¤‘ê°„ í…Œì´ë¸”

---

## ğŸš€ ì„¤ì¹˜ ë° ì‹¤í–‰ ë°©ë²•

### 1. ì‚¬ì „ ì¤€ë¹„
```bash
- JDK 1.8 ì´ìƒ
- Apache Tomcat 9.0
- MariaDB 10.6 ì´ìƒ
- Maven 3.x
```

### 2. ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •
```sql
-- ë°ì´í„°ë² ì´ìŠ¤ ìƒì„±
CREATE DATABASE vibe_db;

-- í…Œì´ë¸” ìƒì„±
-- (í”„ë¡œì íŠ¸ ë‚´ SQL íŒŒì¼ ì°¸ê³ )
```

### 3. í”„ë¡œì íŠ¸ í´ë¡ 
```bash
git clone https://github.com/your-username/vibe.git
cd vibe
```

### 4. ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì„¤ì •
```
src/main/webapp/WEB-INF/spring/root-context.xml ìˆ˜ì •
- DB URL, username, password ì„¤ì •
```

### 5. ë¹Œë“œ ë° ì‹¤í–‰
```bash
# Maven ë¹Œë“œ
mvn clean install

# Tomcat ì‹¤í–‰ (STS ì‚¬ìš© ì‹œ)
Run As â†’ Run on Server
```

### 6. ì ‘ì†
```
http://localhost:8080/
```

---

## ğŸ’¡ í•µì‹¬ ê¸°ëŠ¥ êµ¬í˜„

### 1. í˜ì´ì§• ì²˜ë¦¬
```java
// Criteria.java - offset ìë™ ê³„ì‚°
public int getOffset() {
    return (pageNum - 1) * amount;
}
```

### 2. ê²€ìƒ‰ ê¸°ëŠ¥
```xml
<!-- PostMapper.xml - ë™ì  ì¿¼ë¦¬ -->
<select id="searchPosts">
    WHERE title LIKE CONCAT('%', #{keyword}, '%')
       OR content LIKE CONCAT('%', #{keyword}, '%')
</select>
```

### 3. ì¢‹ì•„ìš” í† ê¸€
```java
// LikeServiceImpl.java - ì¢‹ì•„ìš” ì¶”ê°€/ì·¨ì†Œ
public boolean toggleLike(int userId, int songId) {
    if (likeMapper.isLiked(userId, songId) > 0) {
        likeMapper.delete(userId, songId);
        return false;  // ì·¨ì†Œ
    } else {
        likeMapper.insert(userId, songId);
        return true;   // ì¶”ê°€
    }
}
```

---

## ğŸ“š ë°°ìš´ ì 

1. **Spring MVC ê³„ì¸µ êµ¬ì¡° ì´í•´**
   - Controller-Service-Mapper ì—­í•  ë¶„ë¦¬
   - ì˜ì¡´ì„± ì£¼ì…ê³¼ ìœ ì§€ë³´ìˆ˜ì„± í–¥ìƒ

2. **MyBatis ë™ì  ì¿¼ë¦¬ì™€ í˜ì´ì§•**
   - `<if>`, `<choose>` ë™ì  ì¿¼ë¦¬ í™œìš©
   - Criteria íŒ¨í„´ìœ¼ë¡œ ì¬ì‚¬ìš©ì„± í™•ë³´

3. **ì„¸ì…˜ ê´€ë¦¬ì™€ ê¶Œí•œ ì œì–´**
   - HttpSession ê¸°ë°˜ ë¡œê·¸ì¸ ìƒíƒœ ìœ ì§€
   - ì‘ì„±ì ê²€ì¦ìœ¼ë¡œ ë³´ì•ˆ ê°•í™”

---

## ğŸ˜“ ì–´ë ¤ì› ë˜ ì 

1. **ê³„ì†ì ì¸ 404 ì—ëŸ¬**
   - ê²½ë¡œ ë§¤í•‘ê³¼ ì„¤ì • íŒŒì¼ ì´í•´ ë¶€ì¡±
   - servlet-context.xml í•™ìŠµìœ¼ë¡œ í•´ê²°

2. **ë¹„ë™ê¸° ì²˜ë¦¬ì™€ Ajax êµ¬í˜„**
   - ì¢‹ì•„ìš” ê¸°ëŠ¥ êµ¬í˜„ ì‹œ ë³µì¡ì„±
   - JSON ì‘ë‹µ ì²˜ë¦¬ ë°©ë²• í•™ìŠµ

3. **í˜ì´ì§•ê³¼ ê²€ìƒ‰ ê¸°ëŠ¥ ì—°ë™**
   - keywordì™€ pageNum ë™ì‹œ ì „ë‹¬
   - íŒŒë¼ë¯¸í„° ì²˜ë¦¬ ë¡œì§ ê°œì„ 

---

## ğŸ”§ í–¥í›„ ê°œì„  ì‚¬í•­

- [ ] ëŒ€ëŒ“ê¸€(ë‹µê¸€) ê¸°ëŠ¥ ì¶”ê°€
- [ ] ë¹„ë°€ë²ˆí˜¸ ì•”í˜¸í™” (BCrypt)
- [ ] íŒŒì¼ ì²¨ë¶€ ê¸°ëŠ¥
- [ ] ì‹¤ì‹œê°„ ì•Œë¦¼ (WebSocket)
- [ ] ëª¨ë°”ì¼ ë°˜ì‘í˜• ê°œì„ 
- [ ] ì†Œì…œ ë¡œê·¸ì¸ (OAuth 2.0)

---

## ğŸ“ ë¼ì´ì„ ìŠ¤

This project is licensed under the MIT License.

---

## ğŸ‘¤ ê°œë°œì

- **ì´ë¦„**: ì„ ìš°
- **ê³¼ëª©**: SPRING-2025
- **ê¸°ê°„**: 2024.11.27 ~ 2024.12.11

---

## ğŸ™ ê°ì‚¬í•©ë‹ˆë‹¤

í”„ë¡œì íŠ¸ë¥¼ ë´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤!
